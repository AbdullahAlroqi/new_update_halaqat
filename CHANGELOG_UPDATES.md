# ุณุฌู ุงูุชุญุฏูุซุงุช - ูุธุงู ุฅุฏุงุฑุฉ ุงูุญููุงุช

## ุงูุชุญุฏูุซ ุงูุดุงูู - ููููุจุฑ 2024

### ๐ฏ ููุฎุต ุงูุชุญุฏูุซุงุช

ุชู ุฅุถุงูุฉ ูุฌููุนุฉ ุดุงููุฉ ูู ุงูููุฒุงุช ูุงูุชุญุณููุงุช ููุธุงู ุฅุฏุงุฑุฉ ุงูุญููุงุช ุจูุงุกู ุนูู ุงูุทูุจุงุช ุงููุญุฏุฏุฉ.

---

## โจ ุงูููุฒุงุช ุงูุฌุฏูุฏุฉ

### 1. ุณุฌู ุงููุดุงุทุงุช (Activity Logs)
- **ุงููุตู**: ูุธุงู ูุชูุงูู ูุชุชุจุน ุฌููุน ุงูุนูููุงุช ุงูุชู ูููู ุจูุง ุงููุณุชุฎุฏููู
- **ุงููููุน**: `/admin/activity-logs`
- **ุงููููุฒุงุช**:
  - ุชุณุฌูู ุชููุงุฆู ูุฌููุน ุงูุนูููุงุช (ุฅุถุงูุฉุ ุชุนุฏููุ ุญุฐู)
  - ุชุฎุฒูู ุนููุงู IP ูููุณุชุฎุฏู
  - ููุงุชุฑ ูุชูุฏูุฉ: ููุน ุงูุนูููุฉุ ููุน ุงููุฏูุ ุงููุณุชุฎุฏูุ ุงูุชุงุฑูุฎ
  - ุนุฑุถ ููุณู ุฅูู ุตูุญุงุช (50 ุณุฌู ููู ุตูุญุฉ)
- **ุงููููุงุช ุงููุถุงูุฉ**:
  - `models.py`: ุฅุถุงูุฉ ูููุฐุฌ `ActivityLog`
  - `routes_admin.py`: ุฏุงูุฉ `log_activity()` ู route `/activity-logs`
  - `templates/admin/activity_logs.html`

### 2. ุฅุฏุงุฑุฉ ุญุงูุงุช ุงูุบูุงุจ
- **ุงููุตู**: ูุธุงู ูุฑู ูุฅุฏุงุฑุฉ ุญุงูุงุช ุงูุญุถูุฑ ูุงูุบูุงุจ
- **ุงููููุน**: `/admin/absence-statuses`
- **ุงููููุฒุงุช**:
  - ุฅุถุงูุฉ ุญุงูุงุช ุบูุงุจ ูุฎุตุตุฉ
  - ุชุญุฏูุฏ ููู ูููุฒ ููู ุญุงูุฉ
  - ุฎูุงุฑ ูุชุญุฏูุฏ ูุง ุฅุฐุง ูุงูุช ุงูุญุงูุฉ ุชุญุชุณุจ ูุบูุงุจ
  - ุชุนุฏูู ูุญุฐู ุงูุญุงูุงุช ุงูููุฌูุฏุฉ
  - ุญุงูุงุช ุงูุชุฑุงุถูุฉ: ุญุงุถุฑุ ุบุงุฆุจ ุจุนุฐุฑุ ุบุงุฆุจ ุจุฏูู ุนุฐุฑุ ุฅุฌุงุฒุฉุ ุฅุฌุงุฒุฉ ูุฑุถูุฉ
- **ุงููููุงุช ุงููุถุงูุฉ**:
  - `models.py`: ุฅุถุงูุฉ ูููุฐุฌ `AbsenceStatus`
  - `routes_admin.py`: routes ูุฅุฏุงุฑุฉ ุญุงูุงุช ุงูุบูุงุจ
  - `templates/admin/absence_statuses.html`

### 3. ุตูุญุฉ ุงูุชุญุถูุฑ (ุฅุฏุงุฑุฉ ุงูุญุถูุฑ ูุงูุบูุงุจ)
- **ุงููุตู**: ูุงุฌูุฉ ูุชูุฏูุฉ ูุชุณุฌูู ุญุถูุฑ ูุบูุงุจ ุงููุนูููู ููููุงู
- **ุงููููุน**: `/admin/attendance-management`
- **ุงููููุฒุงุช**:
  - ุนุฑุถ ุฌููุน ุงููุนูููู ุญุณุจ ุงูุชุงุฑูุฎ ุงููุญุฏุฏ
  - ููุงุชุฑ ูุชูุฏูุฉ: ุงูุงุณูุ ุงูุฌูุณุ ุงููุณูุ ุงููุชุฑุฉ
  - ุชุณุฌูู ุณุฑูุน ููุญุถูุฑ/ุงูุบูุงุจ ููู ูุนูู
  - ุฅุถุงูุฉ ููุงุญุธุงุช ููู ุณุฌู
  - ุญูุธ ููุฑู ุนุจุฑ AJAX
- **ุงููููุงุช ุงููุถุงูุฉ**:
  - `routes_admin.py`: routes `/attendance-management` ู `/mark-attendance`
  - `templates/admin/attendance_management.html`

### 4. ุฅุฏุงุฑุฉ ูุฏูุฑู ุงููุธุงู
- **ุงููุตู**: ุตูุญุฉ ุฎุงุตุฉ ููุฏูุฑ ุงููุธุงู ุงูุฃุณุงุณู ูุฅุฏุงุฑุฉ ูุฏูุฑู ุงููุธุงู ุงููุฑุนููู
- **ุงููููุน**: `/admin/system-admins`
- **ุงููููุฒุงุช**:
  - ุนุฑุถ ุฌููุน ูุฏูุฑู ุงููุธุงู
  - ุฅุถุงูุฉ ูุฏูุฑู ูุธุงู ูุฑุนููู ุฌุฏุฏ
  - ุชุนุฏูู ูุนูููุงุช ูุฏูุฑู ุงููุธุงู
  - ุญุฐู ูุฏูุฑู ุงููุธุงู ุงููุฑุนููู
  - ุญูุงูุฉ ุญุณุงุจ ูุฏูุฑ ุงููุธุงู ุงูุฃุณุงุณู ูู ุงูุญุฐู
- **ุงููููุงุช ุงููุถุงูุฉ**:
  - `routes_admin.py`: routes ูุฅุฏุงุฑุฉ ูุฏูุฑู ุงููุธุงู
  - `templates/admin/system_admins.html`

### 5. ุญุฐู ุงูููุธููู ูุงููุดุฑููู
- **ุงููุตู**: ุฅููุงููุฉ ุญุฐู ุงูููุธููู ูุงููุดุฑููู ูุน ุฌููุน ุงูุณุฌูุงุช ุงููุฑุชุจุทุฉ
- **ุงููููุฒุงุช**:
  - ุญุฐู ุขูู ูุน ุชุฃููุฏ ูู ุงููุณุชุฎุฏู
  - ุญุฐู ุชููุงุฆู ูุฌููุน ุงูุณุฌูุงุช ุงููุฑุชุจุทุฉ (ุญุถูุฑุ ุฅุฌุงุฒุงุชุ ุฌุฏุงูู)
  - ุชุณุฌูู ุงูุนูููุฉ ูู ุณุฌู ุงููุดุงุทุงุช
  - ุฅูุบุงุก ุฅุณูุงุฏ ุงูููุธููู ุงูุชุงุจุนูู ุนูุฏ ุญุฐู ูุดุฑู
- **ุงููููุงุช ุงููุนุฏูุฉ**:
  - `routes_admin.py`: ุฅุถุงูุฉ routes `/employees/delete/<id>` ู `/supervisors/delete/<id>`
  - `templates/admin/employees.html`: ุฅุถุงูุฉ ุฒุฑ ุงูุญุฐู
  - `templates/admin/supervisors.html`: ุฅุถุงูุฉ ุฒุฑ ุงูุญุฐู

### 6. ุชุนุฏูู ุงููุดุฑููู
- **ุงููุตู**: ุตูุญุฉ ูุชุนุฏูู ูุนูููุงุช ุงููุดุฑููู
- **ุงููููุน**: `/admin/supervisors/edit/<id>`
- **ุงููููุฒุงุช**:
  - ุชุนุฏูู ุฌููุน ูุนูููุงุช ุงููุดุฑู
  - ุชุบููุฑ ูููุฉ ุงููุฑูุฑ (ุงุฎุชูุงุฑู)
  - ุชุณุฌูู ุงูุชุนุฏููุงุช ูู ุณุฌู ุงููุดุงุทุงุช
- **ุงููููุงุช ุงููุถุงูุฉ**:
  - `routes_admin.py`: route `/supervisors/edit/<id>`
  - `templates/admin/edit_supervisor.html`

### 7. ุชุนุฏูู ุฌุฏูู ุงูููุธู
- **ุงููุตู**: ุตูุญุฉ ูููุตูุฉ ูุชุนุฏูู ุฌุฏูู ุงูููุธู (ูููุณ ูุนูููุงุชู ุงูุดุฎุตูุฉ)
- **ุงููููุน**: `/admin/employees/<id>/edit-schedule`
- **ุงููููุฒุงุช**:
  - ุชุนุฏูู ุงููุชุฑุฉ
  - ุชุนุฏูู ุงูููุช
  - ุชุนุฏูู ุฃูุงู ุงูุฑุงุญุฉ
  - ุชุณุฌูู ุงูุชุนุฏููุงุช ูู ุณุฌู ุงููุดุงุทุงุช
- **ุงููููุงุช ุงููุถุงูุฉ**:
  - `routes_admin.py`: route `/employees/<id>/edit-schedule`
  - `templates/admin/edit_employee_schedule.html`
  - `templates/admin/schedules_table.html`: ุฅุถุงูุฉ ุฒุฑ ุชุนุฏูู ุงูุฌุฏูู

### 8. ููุงุชุฑ ูุชูุฏูุฉ
- **ุงููุตู**: ูุธุงู ููุชุฑุฉ ุดุงูู ูุฌููุน ุตูุญุงุช ุงูุนุฑุถ
- **ุงููููุฒุงุช**:
  - ููุชุฑ ุงูููุธููู ุญุณุจ: ุงูุงุณูุ ุงูุฌูุณุ ุงููุณู
  - ููุชุฑ ุฌุฏูู ุงูุญููุงุช ุญุณุจ: ุงูุงุณูุ ุงูุฌูุณุ ุงููุณูุ ุงููุชุฑุฉ
  - ููุชุฑ ุตูุญุฉ ุงูุชุญุถูุฑ ุญุณุจ: ุงูุชุงุฑูุฎุ ุงูุงุณูุ ุงูุฌูุณุ ุงููุณูุ ุงููุชุฑุฉ
  - ุงูุงุญุชูุงุธ ุจุงูููุงุชุฑ ุนูุฏ ุงูุชุตุฏูุฑ ุฅูู PDF
- **ุงููููุงุช ุงููุนุฏูุฉ**:
  - `routes_admin.py`: ุชุญุฏูุซ routes `employees` ู `schedules_table`
  - `templates/admin/employees.html`
  - `templates/admin/schedules_table.html`
  - `templates/admin/attendance_management.html`

### 9. ุชูุฑูุฑ PDF ูุฌุฏูู ุงูุญููุงุช
- **ุงููุตู**: ุชุตุฏูุฑ ุฌุฏูู ุงูุญููุงุช ุฅูู ููู PDF ูุน ุฏุนู ูุงูู ููุนุฑุจูุฉ
- **ุงููููุน**: `/admin/schedules-table/pdf`
- **ุงููููุฒุงุช**:
  - ุชุตุฏูุฑ PDF ุจุตูุบุฉ landscape (ุฃููู)
  - ุฏุนู ูุงูู ููุบุฉ ุงูุนุฑุจูุฉ
  - ุชุทุจูู ุงูููุงุชุฑ ุงููุญุฏุฏุฉ ุนูู ุงูุชูุฑูุฑ
  - ุชุฑุชูุจ ุญุณุจ ุงููุชุฑุฉ ูุงูููุช
  - ุฅุถุงูุฉ ุชุงุฑูุฎ ูููุช ุงูุทุจุงุนุฉ
- **ุงููููุงุช ุงููุนุฏูุฉ**:
  - `routes_admin.py`: ุฅุถุงูุฉ route `/schedules-table/pdf`
  - `templates/admin/schedules_table.html`: ุฅุถุงูุฉ ุฒุฑ ุชุตุฏูุฑ PDF

### 10. ุชุฑุชูุจ ุงูุฌุฏูู
- **ุงููุตู**: ุชุฑุชูุจ ุชููุงุฆู ููุฌุฏุงูู ุญุณุจ ุงููุชุฑุงุช ูุงูุฃููุงุช
- **ุงููููุฒุงุช**:
  - ุชุฑุชูุจ ุฌุฏูู ุงูุญููุงุช: ุงููุชุฑุฉ โ ุงูููุช โ ุงูุงุณู
  - ุชุฑุชูุจ ูุงุถุญ ูููุธู ููุนุฑุถ
  - ุงูุญูุงุธ ุนูู ุงูุชุฑุชูุจ ูู ุชูุงุฑูุฑ PDF
- **ุงููููุงุช ุงููุนุฏูุฉ**:
  - `routes_admin.py`: ุชุญุฏูุซ queries ูุฅุถุงูุฉ `order_by`

---

## ๐ง ุงูุชุญุณููุงุช

### 1. ุถุจุท ุงูุชูููุช ุนูู ุงูุณุนูุฏูุฉ
- ุฅุถุงูุฉ ุฏุนู ุงูุชูููุช ุงูุณุนูุฏู (Asia/Riyadh)
- ุฅุถุงูุฉ ุฏุงูุฉ `get_saudi_time()` ูู models.py
- ุชุญุฏูุซ requirements.txt ูุฅุถุงูุฉ ููุชุจุฉ `pytz`

### 2. ุชุญุณูู ุทุจุงุนุฉ PDF ุจุงูุนุฑุจูุฉ
- ุชุญุณูู ุฏุนู ุงูุฎุทูุท ุงูุนุฑุจูุฉ ูู ุฌููุน ุชูุงุฑูุฑ PDF
- ุฅุถุงูุฉ ุฎูุงุฑุงุช ุงุญุชูุงุทูุฉ ููุฎุทูุท
- ุฏุนู ุฎุท Arial ุนูู Windows ู DejaVu ุนูู Linux
- ุงุณุชุฎุฏุงู ููุชุจุงุช `arabic-reshaper` ู `python-bidi`

### 3. ุชุณุฌูู ุงููุดุงุทุงุช
- ุฅุถุงูุฉ ุชุณุฌูู ุชููุงุฆู ูุฌููุน ุงูุนูููุงุช ุงููููุฉ:
  - ุฅุถุงูุฉ/ุชุนุฏูู/ุญุฐู ุงูููุธููู
  - ุฅุถุงูุฉ/ุชุนุฏูู/ุญุฐู ุงููุดุฑููู
  - ุฅุถุงูุฉ/ุชุนุฏูู/ุญุฐู ูุฏูุฑู ุงููุธุงู
  - ุฅุถุงูุฉ/ุชุนุฏูู/ุญุฐู ุญุงูุงุช ุงูุบูุงุจ
  - ุชุญุฏูุซ ุงูุญุถูุฑ ูุงูุบูุงุจ
  - ุทุจุงุนุฉ ุงูุชูุงุฑูุฑ

---

## ๐ ุงููููุงุช ุงููุนุฏูุฉ

### Backend (Python)
- `models.py`: ุฅุถุงูุฉ ููุงุฐุฌ ุฌุฏูุฏุฉ (ActivityLog, AbsenceStatus)
- `routes_admin.py`: ุฅุถุงูุฉ routes ุฌุฏูุฏุฉ ููุธุงุฆู ูุญุณููุฉ
- `app.py`: ุชุญุฏูุซ ุงูุงุณุชูุฑุงุฏุงุช ูุชููุฆุฉ ุญุงูุงุช ุงูุบูุงุจ
- `requirements.txt`: ุฅุถุงูุฉ ููุชุจุฉ pytz

### Frontend (HTML)
- **ูููุงุช ุฌุฏูุฏุฉ**:
  - `templates/admin/system_admins.html`
  - `templates/admin/activity_logs.html`
  - `templates/admin/absence_statuses.html`
  - `templates/admin/attendance_management.html`
  - `templates/admin/edit_supervisor.html`
  - `templates/admin/edit_employee_schedule.html`

- **ูููุงุช ูุนุฏูุฉ**:
  - `templates/admin/employees.html`: ุฅุถุงูุฉ ููุงุชุฑ ูุฒุฑ ุญุฐู
  - `templates/admin/supervisors.html`: ุฅุถุงูุฉ ุฃุฒุฑุงุฑ ุชุนุฏูู ูุญุฐู
  - `templates/admin/schedules_table.html`: ุฅุถุงูุฉ ููุงุชุฑ ูุฒุฑ PDF ูุฒุฑ ุชุนุฏูู

---

## ๐๏ธ ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ุฌุฏุงูู ุฌุฏูุฏุฉ
1. **activity_logs**: ุชุฎุฒูู ุณุฌู ุงููุดุงุทุงุช
   - id, user_id, action, target_type, target_id, details, ip_address, created_at

2. **absence_statuses**: ุชุฎุฒูู ุญุงูุงุช ุงูุบูุงุจ
   - id, name, color, is_counted_as_absent, is_active, created_at

### ุชุนุฏููุงุช ุนูู ุงูุฌุฏุงูู ุงูููุฌูุฏุฉ
- **attendance**: ุฅุถุงูุฉ ุญูู `absence_status_id` ููุฑุจุท ูุน ุญุงูุงุช ุงูุบูุงุจ

---

## ๐ ููููุฉ ุงูุชุดุบูู

### 1. ุชุญุฏูุซ ุงูููุชุจุงุช
```bash
pip install -r requirements.txt
```

### 2. ุชุญุฏูุซ ูุงุนุฏุฉ ุงูุจูุงูุงุช
ุนูุฏ ุชุดุบูู ุงูุชุทุจูู ูุฃูู ูุฑุฉุ ุณูุชู ุชููุงุฆูุงู:
- ุฅูุดุงุก ุงูุฌุฏุงูู ุงูุฌุฏูุฏุฉ
- ุฅุถุงูุฉ ุญุงูุงุช ุงูุบูุงุจ ุงูุงูุชุฑุงุถูุฉ

### 3. ุชุดุบูู ุงูุชุทุจูู
```bash
python app.py
```

---

## ๐ ุงูุตูุญุงุช ุงูุฌุฏูุฏุฉ

| ุงูุตูุญุฉ | ุงููุณุงุฑ | ุงููุตู |
|--------|--------|-------|
| ุณุฌู ุงููุดุงุทุงุช | `/admin/activity-logs` | ุนุฑุถ ุฌููุน ุงูุนูููุงุช ุงููุณุฌูุฉ |
| ุฅุฏุงุฑุฉ ูุฏูุฑู ุงููุธุงู | `/admin/system-admins` | ุฅุฏุงุฑุฉ ูุฏูุฑู ุงููุธุงู ุงููุฑุนููู |
| ุญุงูุงุช ุงูุบูุงุจ | `/admin/absence-statuses` | ุฅุฏุงุฑุฉ ุญุงูุงุช ุงูุญุถูุฑ ูุงูุบูุงุจ |
| ุงูุชุญุถูุฑ | `/admin/attendance-management` | ุชุณุฌูู ุงูุญุถูุฑ ูุงูุบูุงุจ ุงููููู |
| ุชุนุฏูู ูุดุฑู | `/admin/supervisors/edit/<id>` | ุชุนุฏูู ูุนูููุงุช ุงููุดุฑู |
| ุชุนุฏูู ุฌุฏูู ููุธู | `/admin/employees/<id>/edit-schedule` | ุชุนุฏูู ุฌุฏูู ุงูููุธู |
| ุชูุฑูุฑ PDF ููุฌุฏูู | `/admin/schedules-table/pdf` | ุชุตุฏูุฑ ุงูุฌุฏูู ุฅูู PDF |

---

## ๐ ุงูุตูุงุญูุงุช

- **ูุฏูุฑ ุงููุธุงู ุงูุฃุณุงุณู**: ูุตูู ูุงูู ูุฌููุน ุงูููุฒุงุช
- **ูุฏูุฑ ุงููุธุงู ุงููุฑุนู**: ูุตูู ูุฌููุน ุงูููุฒุงุช ูุง ุนุฏุง ุฅุฏุงุฑุฉ ูุฏูุฑู ุงููุธุงู
- **ุงููุดุฑููู**: ูุตูู ูุญุฏูุฏ ุญุณุจ ุงูุตูุงุญูุงุช ุงูุณุงุจูุฉ
- **ุงูููุธููู**: ุนุฑุถ ููุท

---

## ๐ ููุงุญุธุงุช ูููุฉ

1. **ุงููุณุฎ ุงูุงุญุชูุงุทู**: ูููุตุญ ุจุนูู ูุณุฎุฉ ุงุญุชูุงุทูุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุจู ุงูุชุญุฏูุซ
2. **ุงูุฎุทูุท ุงูุนุฑุจูุฉ**: ุชุฃูุฏ ูู ูุฌูุฏ ุฎุทูุท ุนุฑุจูุฉ ุนูู ุงูุฎุงุฏู ูุทุจุงุนุฉ PDF ุตุญูุญุฉ
3. **ุงูุชูููุช**: ุงููุธุงู ุงูุขู ูุณุชุฎุฏู ุงูุชูููุช ุงูุณุนูุฏู (UTC+3)
4. **ุงูููุงุชุฑ**: ุฌููุน ุงูููุงุชุฑ ุชุญูุธ ูู URL ููุณูุงุญ ุจุงููุดุงุฑูุฉ ูุงูุนูุฏุฉ

---

## ๐ ุฅุตูุงุญุงุช ุงูุฃุฎุทุงุก

1. ุฅุตูุงุญ ูุดููุฉ ุทุจุงุนุฉ PDF ุจุงูุนุฑุจูุฉ
2. ุฅุตูุงุญ ุชุฑุชูุจ ุงูุฌุฏุงูู
3. ุชุญุณูู ูุงุฌูุงุช ุงููุณุชุฎุฏู

---

## ๐ ุงูุฏุนู

ูู ุญุงูุฉ ูุฌูุฏ ุฃู ูุดุงูู ุฃู ุงุณุชูุณุงุฑุงุชุ ูุฑุฌู ุงูุชูุงุตู ูุน ูุฑูู ุงูุชุทููุฑ.

---

**ุชุงุฑูุฎ ุงูุชุญุฏูุซ**: ููููุจุฑ 2024  
**ุงูุฅุตุฏุงุฑ**: 2.0.0
